<!DOCTYPE html>
<html lang="pt">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Rafael Belo Duarte">
    <meta name="description" content="Aqui encontrarás meu currículo e projetos realizados.">
    <meta name="keywords" content="blog,engenharia,engenharia química">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Projeto Sensorino"/>
<meta name="twitter:description" content="Software com interface gráfica escrito em Python com o intuito de captar sinais de sensores, como transdutores de pressão e termopares, acoplados a placas Arduino.
Instruções O loop de seu controlador deve retornar os dados separados por espaços simples:
a b c ... Ex: 1 2 3 4 5
Você pode encontrar no Github uma versão executável para windows, como também o repositório do projeto.
Se você possui ambiente python configurado, inicie o programa com: python3 projeto_sensorino."/>

    <meta property="og:title" content="Projeto Sensorino" />
<meta property="og:description" content="Software com interface gráfica escrito em Python com o intuito de captar sinais de sensores, como transdutores de pressão e termopares, acoplados a placas Arduino.
Instruções O loop de seu controlador deve retornar os dados separados por espaços simples:
a b c ... Ex: 1 2 3 4 5
Você pode encontrar no Github uma versão executável para windows, como também o repositório do projeto.
Se você possui ambiente python configurado, inicie o programa com: python3 projeto_sensorino." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rafaelbeloduarte.github.io/posts/projeto-sensorino/" />
<meta property="article:published_time" content="2020-01-07T15:21:04-03:00" />
<meta property="article:modified_time" content="2020-01-07T15:21:04-03:00" />


    
      <base href="https://rafaelbeloduarte.github.io/posts/projeto-sensorino/">
    
    <title>
  Projeto Sensorino · Rafael Belo Duarte
</title>

    
      <link rel="canonical" href="https://rafaelbeloduarte.github.io/posts/projeto-sensorino/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="https://rafaelbeloduarte.github.io/css/coder.min.a4f332213a21ce8eb521670c614470c58923aaaf385e2a73982c31dd7642decb.css" integrity="sha256-pPMyITohzo61IWcMYURwxYkjqq84XipzmCwx3XZC3ss=" crossorigin="anonymous" media="screen" />
    

    

    
      
        
        
        <link rel="stylesheet" href="https://rafaelbeloduarte.github.io/css/coder-dark.min.83a2010dac9f59f943b3004cd6c4f230507ad036da635d3621401d42ec4e2835.css" integrity="sha256-g6IBDayfWflDswBM1sTyMFB60DbaY102IUAdQuxOKDU=" crossorigin="anonymous" media="screen" />
      
    

    
      <link rel="stylesheet" href="https://rafaelbeloduarte.github.io/css/custom.css" />
    

    

    

    <link rel="icon" type="image/png" href="https://rafaelbeloduarte.github.io/img/icon_32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://rafaelbeloduarte.github.io/img/icon_16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.68.3" />
  </head>

  
  
    
  
  <body class="colorscheme-auto">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://rafaelbeloduarte.github.io/">
      Rafael Belo Duarte
    </a>
    
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://rafaelbeloduarte.github.io/posts/">Blog</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://rafaelbeloduarte.github.io/tags/">Tags</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://rafaelbeloduarte.github.io/cv">Currículo</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://rafaelbeloduarte.github.io/contato">Contato</a>
          </li>
        
      
      
    </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Projeto Sensorino</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2020-01-07T15:21:04-03:00'>
                07/01/2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              
            </span>
          </div>
          
          <div class="tags">
  <i class="fas fa-tag"></i>
    <a href="https://rafaelbeloduarte.github.io/tags/arduino/">arduino</a>
      <span class="separator">•</span>
    <a href="https://rafaelbeloduarte.github.io/tags/python/">python</a>
      <span class="separator">•</span>
    <a href="https://rafaelbeloduarte.github.io/tags/programa%C3%A7%C3%A3o/">programação</a></div>

        </div>
      </header>

      <div>
        
        <p>Software com interface gráfica escrito em Python com o intuito de captar sinais de sensores, como transdutores de pressão e termopares, acoplados a placas Arduino.</p>
<p><img src="https://rafaelbeloduarte.github.io/images/sensorino.png" alt="gui" title="Sensorino."></p>
<h2 id="instruções">Instruções</h2>
<p>O loop de seu controlador deve retornar os dados separados por espaços simples:</p>
<div class="highlight"><pre style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">a b c ...
</code></pre></div><p>Ex:     <code>1 2 3 4 5</code></p>
<p>Você pode encontrar no Github uma <a href="https://github.com/rafaelbeloduarte/projeto_sensorino/blob/master/sensorino_win64.zip">versão executável para windows</a>, como também o <a href="https://github.com/rafaelbeloduarte/projeto_sensorino">repositório do projeto</a>.</p>
<p>Se você possui ambiente python configurado, inicie o programa com: <code>python3 projeto_sensorino.py</code>.</p>
<p>Bibliotecas requeridas se não for utilizar o executável: <code>tkinter</code>, <code>pyserial</code> e <code>matplotlib</code>. Todas podem ser instaladas via <a href="https://pypi.org/project/pip/">pip</a>.</p>
<p>Instruções para instalação do <a href="https://www.python.org/">interpretador</a> podem ser encontradas facilmente em mecanismos de busca. Muitas distribuições Linux já o possuem por padrão.</p>
<p>Se deseja gerar sua própria versão executável, clone ou baixe o repositório do Github e use o <a href="https://www.pyinstaller.org/">Pyinstaller</a>.</p>
<h2 id="código">Código</h2>
<div class="highlight"><pre style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ino" data-lang="ino"><span style="color:#1e889b"># -*- coding: utf-8 -*-
</span><span style="color:#1e889b"></span>import tkinter
import serial
import serial.tools.list_ports
import threading
from tkinter.filedialog import asksaveasfilename
from tkinter import *
import sys
import os
from tkinter import messagebox
from tkinter.scrolledtext import ScrolledText
import matplotlib.pyplot as plt
import matplotlib.animation as animation

<span style="color:#1e889b"># funções-------------------------------------------------------------------------------------
</span><span style="color:#1e889b"></span>
def sel():
    <span style="color:#1e889b"># LISTA AS PORTAS DISPONÍVEIS
</span><span style="color:#1e889b"></span>    comlist = serial.tools.list_ports.comports()
    <span style="color:#008b45">connected</span> = []
    <span style="color:#8b008b;font-weight:bold">for</span> element in comlist:
        <span style="color:#008b45">connected</span>.append(element.device)

def graficoinst():
    plt.<span style="color:#008b45">close</span>()
    fig = plt.figure()
    grafico = <span style="color:#008b45">open</span>(<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>grafico.dat<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>, <span style="color:#cd5555">&#39;r&#39;</span>).<span style="color:#008b45">read</span>()
    vetores = grafico.split(<span style="color:#cd5555">&#39;\n&#39;</span>)
    vetores = filter(None, vetores)
    vetores = list(vetores)
    <span style="color:#8b008b;font-weight:bold">for</span> i in range(len(vetores)):
        aux = vetores[i].split(<span style="color:#cd5555">&#34;,&#34;</span>)
        <span style="color:#8b008b;font-weight:bold">for</span> j in range(len(aux)):
            aux[j] = <span style="color:#00688b;font-weight:bold">float</span>(aux[j])
        vetores[i] = aux
    matriz_graf = vetores
    plt.clf()
    eixo = fig.add_subplot(<span style="color:#b452cd">1</span>, <span style="color:#b452cd">1</span>, <span style="color:#b452cd">1</span>)
    eixo.plot(matriz_graf)
   <span style="color:#1e889b"># eixo.legend()
</span><span style="color:#1e889b"></span>    plt.show()

def grafico():
    plt.<span style="color:#008b45">close</span>()
    fig = plt.figure()
    def animar(i):
        grafico = <span style="color:#008b45">open</span>(<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>grafico.dat<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>, <span style="color:#cd5555">&#39;r&#39;</span>).<span style="color:#008b45">read</span>()
        vetores = grafico.split(<span style="color:#cd5555">&#39;\n&#39;</span>)
        vetores = filter(None, vetores)
        vetores = list(vetores)
        <span style="color:#8b008b;font-weight:bold">for</span> i in range(len(vetores)):
            aux = vetores[i].split(<span style="color:#cd5555">&#34;,&#34;</span>)
            <span style="color:#8b008b;font-weight:bold">for</span> j in range(len(aux)):
                aux[j] = <span style="color:#00688b;font-weight:bold">float</span>(aux[j])
            vetores[i] = aux
        matriz_graf = vetores
        plt.clf()
        eixo = fig.add_subplot(<span style="color:#b452cd">1</span>, <span style="color:#b452cd">1</span>, <span style="color:#b452cd">1</span>)
        eixo.plot(matriz_graf)
       <span style="color:#1e889b"># eixo.legend()
</span><span style="color:#1e889b"></span>    ani = animation.FuncAnimation(fig, animar, interval=<span style="color:#b452cd">1000</span>)
    plt.show()

def selbaud():
    <span style="color:#008b45">text</span>.insert(END, <span style="color:#cd5555">&#34;</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">Baudrate: &#34;</span> + str(varbaud.<span style="color:#008b45">get</span>()) + <span style="color:#cd5555">&#34;</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&#34;</span>)
    <span style="color:#008b45">text</span>.see(END)

def handle_leitura():
    <span style="color:#8b008b;font-weight:bold">try</span>:
        ser = serial.<span style="color:#008b45;font-weight:bold">Serial</span>(var.<span style="color:#008b45">get</span>(), baudrate=varbaud.<span style="color:#008b45">get</span>(), timeout=<span style="color:#b452cd">1</span>, parity=serial.PARITY_NONE,
                            stopbits=serial.STOPBITS_ONE,
                            bytesize=serial.EIGHTBITS)
        ser.<span style="color:#008b45">close</span>()
    except Exception as e:
        messagebox.showinfo(<span style="color:#cd5555">&#34;Eita!&#34;</span>, <span style="color:#cd5555">&#34;Erro: &#34;</span> + str(e) + <span style="color:#cd5555">&#34;</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">Provável causa: a porta já está sendo utilizada.&#34;</span>,
                            icon=<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>error<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>)
        <span style="color:#8b008b;font-weight:bold">return</span> None

    <span style="color:#8b008b;font-weight:bold">if</span> <span style="color:#8b008b;font-weight:bold">not</span> var.<span style="color:#008b45">get</span>() <span style="color:#8b008b;font-weight:bold">or</span> <span style="color:#8b008b;font-weight:bold">not</span> varbaud.<span style="color:#008b45">get</span>():
        messagebox.showinfo(<span style="color:#cd5555">&#34;Aviso!&#34;</span>, <span style="color:#cd5555">&#34;Selecione uma porta/baudrate.&#34;</span>)
        <span style="color:#8b008b;font-weight:bold">return</span> None

    <span style="color:#8b008b;font-weight:bold">if</span> <span style="color:#8b008b;font-weight:bold">not</span> n_texto.<span style="color:#008b45">get</span>():
        messagebox.showinfo(<span style="color:#cd5555">&#34;Aviso!&#34;</span>, <span style="color:#cd5555">&#34;Por favor, informe o número de entradas.&#34;</span>)
        <span style="color:#8b008b;font-weight:bold">return</span> None

    <span style="color:#8b008b;font-weight:bold">try</span>:
        salvararquivo = asksaveasfilename(defaultextension=<span style="color:#cd5555">&#34;.txt&#34;</span>, initialfile=<span style="color:#cd5555">&#34;dados&#34;</span>)
        arquivousuario = <span style="color:#008b45">open</span>(salvararquivo, <span style="color:#cd5555">&#39;w&#39;</span>)
        arquivousuario.<span style="color:#008b45">close</span>()
        arquivo_sinal = <span style="color:#008b45">open</span>(salvararquivo.<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#34;.txt&#34;</span>, <span style="color:#cd5555">&#34;&#34;</span>) + <span style="color:#cd5555">&#34;_sinal.txt&#34;</span>, <span style="color:#cd5555">&#34;w&#34;</span>)
        arquivo_sinal.<span style="color:#008b45">close</span>()
    except Exception as e:
        messagebox.showinfo(e)
        <span style="color:#8b008b;font-weight:bold">return</span> None
    ser = serial.<span style="color:#008b45;font-weight:bold">Serial</span>(var.<span style="color:#008b45">get</span>(), baudrate=varbaud.<span style="color:#008b45">get</span>(), timeout=<span style="color:#b452cd">1</span>, parity=serial.PARITY_NONE,
                        stopbits=serial.STOPBITS_ONE, bytesize=serial.EIGHTBITS)

    instr_arquivo = Label(top, <span style="color:#008b45">text</span>=<span style="color:#cd5555">&#34;Para finalizar a leitura apenas feche o programa, seus dados são salvos automaticamente.&#34;</span>)
    instr_arquivo.grid(row = <span style="color:#b452cd">1</span>, column=<span style="color:#b452cd">1</span>, columnspan=<span style="color:#b452cd">5</span>)
    instr_arquivo.configure(<span style="color:#008b45">background</span>=<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>blue<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>, foreground=<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>white<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>, borderwidth=<span style="color:#b452cd">3</span>, relief=<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>groove<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>)

    def iniciar():  <span style="color:#a61717;background-color:#e3d2d2">#</span> Esta função lê o inpu
        <span style="color:#1e889b"># t da porta selecionada
</span><span style="color:#1e889b"></span>        i_limpa_texto = <span style="color:#b452cd">0</span>

        arquivousuario = <span style="color:#008b45">open</span>(salvararquivo, <span style="color:#cd5555">&#39;a&#39;</span>)
        arquivo_sinal = <span style="color:#008b45">open</span>(salvararquivo.<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#34;.txt&#34;</span>, <span style="color:#cd5555">&#34;&#34;</span>) + <span style="color:#cd5555">&#34;_sinal.txt&#34;</span>, <span style="color:#cd5555">&#39;a&#39;</span>)
        rol = IntVar()

        rol_parar = Radiobutton(top, <span style="color:#008b45">text</span>=<span style="color:#cd5555">&#34;Parar rolagem&#34;</span>, variable=rol, value=<span style="color:#b452cd">0</span>)
        rol_parar.grid(row=<span style="color:#b452cd">20</span>, column=<span style="color:#b452cd">2</span>, columnspan = <span style="color:#b452cd">1</span>)
        rol_parar.configure(<span style="color:#008b45">background</span>=<span style="color:#a61717;background-color:#e3d2d2">&#39;#</span>F2F2F2<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>, indicatoron=<span style="color:#b452cd">0</span>, <span style="color:#008b45">width</span>=<span style="color:#b452cd">15</span>)

        rol_iniciar = Radiobutton(top, <span style="color:#008b45">text</span>=<span style="color:#cd5555">&#34;Auto rolagem&#34;</span>, variable=rol, value=<span style="color:#b452cd">1</span>)
        rol_iniciar.grid(row=<span style="color:#b452cd">20</span>, column=<span style="color:#b452cd">3</span>, columnspan=<span style="color:#b452cd">1</span>)
        rol_iniciar.configure(<span style="color:#008b45">background</span>=<span style="color:#a61717;background-color:#e3d2d2">&#39;#</span>F2F2F2<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>, indicatoron=<span style="color:#b452cd">0</span>, <span style="color:#008b45">width</span>=<span style="color:#b452cd">15</span>)
        rol_iniciar.select()

        graf = <span style="color:#008b45">open</span>(<span style="color:#cd5555">&#34;grafico.dat&#34;</span>, <span style="color:#cd5555">&#39;w&#39;</span>)
        graf.<span style="color:#008b45">close</span>()

        <span style="color:#8b008b;font-weight:bold">if</span> os.path.isfile(abre_poli.<span style="color:#008b45">get</span>()) == False <span style="color:#8b008b;font-weight:bold">and</span> os.path.isfile(<span style="color:#cd5555">&#34;polinomios.txt&#34;</span>) == False:
            messagebox.showinfo(<span style="color:#cd5555">&#34;Atenção!&#34;</span>, <span style="color:#cd5555">&#34;Arquivo não encontrado, o sinal será apresentado nu.&#34;</span>)
            poli = <span style="color:#008b45">open</span>(<span style="color:#cd5555">&#34;polinomios.txt&#34;</span>, <span style="color:#cd5555">&#39;w&#39;</span>)
            n_entradas = <span style="color:#00688b;font-weight:bold">int</span>(n_texto.<span style="color:#008b45">get</span>())
            <span style="color:#8b008b;font-weight:bold">for</span> i in range(n_entradas):
                poli.<span style="color:#008b45">write</span>(<span style="color:#cd5555">&#34;1 0</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&#34;</span>)
        <span style="color:#8b008b;font-weight:bold">if</span> abre_poli.<span style="color:#008b45">get</span>():
            <span style="color:#8b008b;font-weight:bold">if</span> os.stat(abre_poli.<span style="color:#008b45">get</span>()).st_size == <span style="color:#b452cd">0</span>:
                messagebox.showinfo(<span style="color:#cd5555">&#34;Atenção!&#34;</span>, <span style="color:#cd5555">&#34;Arquivo vazio, será preenchido com y=x.&#34;</span>)
                poli = <span style="color:#008b45">open</span>(abre_poli.<span style="color:#008b45">get</span>(), <span style="color:#cd5555">&#39;w&#39;</span>)
                n_entradas = <span style="color:#00688b;font-weight:bold">int</span>(n_texto.<span style="color:#008b45">get</span>())
                <span style="color:#8b008b;font-weight:bold">for</span> i in range(n_entradas):
                    poli.<span style="color:#008b45">write</span>(<span style="color:#cd5555">&#34;1 0</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&#34;</span>)
                poli.<span style="color:#008b45">close</span>()
            poli = <span style="color:#008b45">open</span>(abre_poli.<span style="color:#008b45">get</span>()).readlines()
            i = <span style="color:#b452cd">0</span>
            linhas = i + <span style="color:#b452cd">1</span>
            <span style="color:#8b008b;font-weight:bold">if</span> linhas &lt; <span style="color:#00688b;font-weight:bold">int</span>(n_texto.<span style="color:#008b45">get</span>()):
                messagebox.showinfo(<span style="color:#cd5555">&#34;Atenção!&#34;</span>, <span style="color:#cd5555">&#34;Número de equações menor que o número de entradas. Os sinais das entradas restantes serão exibidos inalterados.&#34;</span>)
                escrever_polinomios = <span style="color:#008b45">open</span>(abre_poli.<span style="color:#008b45">get</span>(), <span style="color:#cd5555">&#39;a&#39;</span>)
                restantes = <span style="color:#00688b;font-weight:bold">int</span>(n_texto.<span style="color:#008b45">get</span>()) - len(poli)
                <span style="color:#8b008b;font-weight:bold">for</span> i in range(restantes):
                    escrever_polinomios.<span style="color:#008b45">write</span>(<span style="color:#cd5555">&#34;1 0</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&#34;</span>)
                escrever_polinomios.<span style="color:#008b45">close</span>()
        <span style="color:#8b008b;font-weight:bold">else</span>:
            poli = <span style="color:#008b45">open</span>(<span style="color:#cd5555">&#34;polinomios.txt&#34;</span>).readlines()
            i = <span style="color:#b452cd">0</span>
            with <span style="color:#008b45">open</span>(<span style="color:#cd5555">&#34;polinomios.txt&#34;</span>) as arquivo:
                <span style="color:#8b008b;font-weight:bold">for</span> i, arquivo in enumerate(arquivo):
                    pass
            linhas = i + <span style="color:#b452cd">1</span>
            <span style="color:#8b008b;font-weight:bold">if</span> linhas &lt; <span style="color:#00688b;font-weight:bold">int</span>(n_texto.<span style="color:#008b45">get</span>()):
                messagebox.showinfo(<span style="color:#cd5555">&#34;Atenção!&#34;</span>, <span style="color:#cd5555">&#34;Número de equações menor que o número de entradas. Os sinais das entradas restantes serão exibidos inalterados.&#34;</span>)
                escrever_polinomios = <span style="color:#008b45">open</span>(<span style="color:#cd5555">&#34;polinomios.txt&#34;</span>, <span style="color:#cd5555">&#39;a&#39;</span>)
                restantes = <span style="color:#00688b;font-weight:bold">int</span>(n_texto.<span style="color:#008b45">get</span>()) - len(poli)
                <span style="color:#8b008b;font-weight:bold">for</span> i in range(restantes):
                    escrever_polinomios.<span style="color:#008b45">write</span>(<span style="color:#cd5555">&#34;1 0</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&#34;</span>)
                escrever_polinomios.<span style="color:#008b45">close</span>()

        <span style="color:#8b008b;font-weight:bold">for</span> i in range(len(poli)):
            poli[i] = poli[i].<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#34;</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&#34;</span>, <span style="color:#cd5555">&#34;&#34;</span>).split(<span style="color:#cd5555">&#34; &#34;</span>)
        <span style="color:#8b008b;font-weight:bold">for</span> i in range(len(poli)):
            <span style="color:#8b008b;font-weight:bold">for</span> j in range(len(poli[i])):
                poli[i][j] = <span style="color:#00688b;font-weight:bold">float</span>(poli[i][j])
        <span style="color:#008b45">text</span>.insert(END, <span style="color:#cd5555">&#34;</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&#34;</span> + str(poli) + <span style="color:#cd5555">&#34;</span><span style="color:#cd5555">\n\n</span><span style="color:#cd5555">&#34;</span>)
        <span style="color:#008b45">text</span>.see(END)

        <span style="color:#8b008b;font-weight:bold">try</span>:
            <span style="color:#1e889b"># LOOP DE LEITURA
</span><span style="color:#1e889b"></span>            <span style="color:#8b008b;font-weight:bold">while</span> True:
                serial_bytes = ser.readline()
                serial_texto = serial_bytes.decode(<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>utf-<span style="color:#b452cd">8</span><span style="color:#a61717;background-color:#e3d2d2">&#39;</span>)
                a = serial_texto.split(<span style="color:#cd5555">&#39; &#39;</span>)
                graf = <span style="color:#008b45">open</span>(<span style="color:#cd5555">&#34;grafico.dat&#34;</span>, <span style="color:#cd5555">&#39;a&#39;</span>)
                dados = []
                lista_dados = []
                <span style="color:#8b008b;font-weight:bold">if</span> a:
                    dados = <span style="color:#a61717;background-color:#e3d2d2">&#39;</span>[%s]<span style="color:#a61717;background-color:#e3d2d2">&#39;</span> % <span style="color:#a61717;background-color:#e3d2d2">&#39;</span>, <span style="color:#a61717;background-color:#e3d2d2">&#39;</span>.join(<span style="color:#008b45">map</span>(str, a))
                    <span style="color:#1e889b"># map serve para aplicarmos uma função a cada elemento de uma lista,
</span><span style="color:#1e889b"></span>                    <span style="color:#1e889b"># retornando uma nova lista contendo os elementos resultantes da aplicação da função.
</span><span style="color:#1e889b"></span>                    <span style="color:#1e889b"># The %s token allows to insert (and potentially format) a string.
</span><span style="color:#1e889b"></span>                    <span style="color:#1e889b"># Notice that the %s token is replaced by whatever I pass to the string after the % symbol.
</span><span style="color:#1e889b"></span>                    dados = dados.<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#39;\n&#39;</span>, <span style="color:#a61717;background-color:#e3d2d2">&#39;&#39;</span>).<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#39;\r&#39;</span>, <span style="color:#a61717;background-color:#e3d2d2">&#39;&#39;</span>).<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#39;[&#39;</span>, <span style="color:#a61717;background-color:#e3d2d2">&#39;&#39;</span>).<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#39;]&#39;</span>, <span style="color:#a61717;background-color:#e3d2d2">&#39;&#39;</span>).<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#34; &#34;</span>, <span style="color:#cd5555">&#34;&#34;</span>).<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#34;&#39;&#34;</span>, <span style="color:#cd5555">&#34;&#34;</span>)
                    lista_dados = dados.split(<span style="color:#cd5555">&#34;,&#34;</span>)
                    lista_dados = filter(None, lista_dados)
                    lista_dados = list(lista_dados)
                    <span style="color:#8b008b;font-weight:bold">for</span> i in range(len(lista_dados)):
                        lista_dados[i] = <span style="color:#00688b;font-weight:bold">float</span>(lista_dados[i])
                <span style="color:#8b008b;font-weight:bold">if</span> lista_dados:
                    <span style="color:#8b008b;font-weight:bold">for</span> i in range(len(poli)):
                        lista_dados[i] = poli[i][<span style="color:#b452cd">0</span>]*lista_dados[i] + poli[i][<span style="color:#b452cd">1</span>]
                    arquivousuario.<span style="color:#008b45">write</span>(str(lista_dados).<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#39;[&#39;</span>, <span style="color:#a61717;background-color:#e3d2d2">&#39;&#39;</span>).<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#39;]&#39;</span>, <span style="color:#a61717;background-color:#e3d2d2">&#39;&#39;</span>) + <span style="color:#cd5555">&#39;\n&#39;</span>)
                    arquivousuario.<span style="color:#008b45">flush</span>()
                    arquivo_sinal.<span style="color:#008b45">write</span>(dados + <span style="color:#cd5555">&#39;\n&#39;</span>)
                    arquivo_sinal.<span style="color:#008b45">flush</span>()
                    graf.<span style="color:#008b45">write</span>(str(lista_dados).<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#39;[&#39;</span>, <span style="color:#a61717;background-color:#e3d2d2">&#39;&#39;</span>).<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#39;]&#39;</span>, <span style="color:#a61717;background-color:#e3d2d2">&#39;&#39;</span>) + <span style="color:#cd5555">&#39;\n&#39;</span>)
                    graf.<span style="color:#008b45">flush</span>()
                    <span style="color:#008b45">text</span>.insert(END, str(lista_dados).<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#39;[&#39;</span>, <span style="color:#a61717;background-color:#e3d2d2">&#39;&#39;</span>).<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#39;]&#39;</span>, <span style="color:#a61717;background-color:#e3d2d2">&#39;&#39;</span>) + <span style="color:#cd5555">&#39;\n&#39;</span>)
                    <span style="color:#8b008b;font-weight:bold">if</span> rol.<span style="color:#008b45">get</span>() == <span style="color:#b452cd">1</span>:
                        <span style="color:#008b45">text</span>.see(END)
                    i_limpa_texto += <span style="color:#b452cd">1</span>
                <span style="color:#8b008b;font-weight:bold">if</span> i_limpa_texto &gt; <span style="color:#b452cd">1000</span>:
                    <span style="color:#008b45">text</span>.<span style="color:#8b008b;font-weight:bold">delete</span>(<span style="color:#b452cd">1.0</span>, END)

                    graf = <span style="color:#008b45">open</span>(<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>grafico.dat<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>, <span style="color:#a61717;background-color:#e3d2d2">&#39;</span>r+<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>)
                    graf.truncate(<span style="color:#b452cd">0</span>)

                    i_limpa_texto = <span style="color:#b452cd">0</span>
                <span style="color:#8b008b;font-weight:bold">if</span> limpar_graf.<span style="color:#008b45">get</span>() == <span style="color:#b452cd">1</span>:
                    graf = <span style="color:#008b45">open</span>(<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>grafico.dat<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>, <span style="color:#cd5555">&#39;w&#39;</span>)
                    graf.truncate(<span style="color:#b452cd">0</span>)

                    limpar_graf.set(<span style="color:#b452cd">0</span>)

                <span style="color:#1e889b"># time.sleep(1)
</span><span style="color:#1e889b"></span>        except Exception as e:
            messagebox.showinfo(<span style="color:#cd5555">&#34;Erro!&#34;</span>, <span style="color:#cd5555">&#34;Erro: &#34;</span> + str(e), icon=<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>error<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>)
            pass
        ser.<span style="color:#008b45">close</span>()
        graf.<span style="color:#008b45">close</span>()
        arquivousuario.<span style="color:#008b45">close</span>()
        arquivo_sinal.<span style="color:#008b45">close</span>()
        poli.<span style="color:#008b45">close</span>()

    t = threading.Thread(target=iniciar)
    t.daemon = True
    t.start()

def atualizarporta():
    portas_sub_menu.<span style="color:#8b008b;font-weight:bold">delete</span>(<span style="color:#b452cd">0</span>, <span style="color:#a61717;background-color:#e3d2d2">&#39;</span><span style="color:#008b45">end</span><span style="color:#a61717;background-color:#e3d2d2">&#39;</span>)
    var.set(<span style="color:#cd5555">&#34;&#34;</span>)
    ports = list(serial.tools.list_ports.comports())
    comlist = serial.tools.list_ports.comports()
    <span style="color:#008b45">connected</span> = []
    <span style="color:#8b008b;font-weight:bold">for</span> element in comlist:
        <span style="color:#008b45">connected</span>.append(element.device)
    <span style="color:#8b008b;font-weight:bold">for</span> i in range(len(ports)):
        ports[i] = str(ports[i])
    <span style="color:#8b008b;font-weight:bold">for</span> k in range(len(<span style="color:#008b45">connected</span>)):
        portas_sub_menu.add_radiobutton(label = <span style="color:#008b45">connected</span>[k], variable=var, value=str(<span style="color:#008b45">connected</span>[k]), command=sel)
        <span style="color:#8b008b;font-weight:bold">if</span> <span style="color:#cd5555">&#34;Arduino&#34;</span> <span style="color:#8b008b;font-weight:bold">or</span> <span style="color:#cd5555">&#34;Serial USB&#34;</span> in ports[k]:
            var.set(str(<span style="color:#008b45">connected</span>[k]))
            portas_sub_menu.activate(k)
    <span style="color:#008b45">text</span>.insert(END, <span style="color:#cd5555">&#34;</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">Porta selecionada: &#34;</span> + str(var.<span style="color:#008b45">get</span>()) + <span style="color:#cd5555">&#34;</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&#34;</span>)
    <span style="color:#008b45">text</span>.see(END)

def reiniciar():
    <span style="color:#8b008b;font-weight:bold">if</span> messagebox.askokcancel(<span style="color:#cd5555">&#34;Reiniciando...&#34;</span>, <span style="color:#cd5555">&#34;Tem certeza?&#34;</span>):
        python = sys.executable
        os.execl(python, python, *sys.argv)
    <span style="color:#8b008b;font-weight:bold">else</span>:
        <span style="color:#8b008b;font-weight:bold">return</span> None

def fechando():
    <span style="color:#8b008b;font-weight:bold">if</span> messagebox.askokcancel(<span style="color:#cd5555">&#34;Fechando...&#34;</span>, <span style="color:#cd5555">&#34;Tem certeza?&#34;</span>):
        plt.<span style="color:#008b45">close</span>(<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>all<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>)
        top.destroy()

<span style="color:#1e889b"># fim das funções-----------------------------------------------------------------------------
</span><span style="color:#1e889b"></span>
<span style="color:#1e889b"># Código para os widgets vai aqui.------------------------------------------------------------
</span><span style="color:#1e889b"></span>
<span style="color:#1e889b"># define a janela principal----------------------------------
</span><span style="color:#1e889b"></span>top = tkinter.Tk()
top.wm_title(<span style="color:#cd5555">&#34;Sensorino Salva!&#34;</span>)
top.minsize(<span style="color:#b452cd">500</span>, <span style="color:#b452cd">500</span>)
top.geometry(<span style="color:#cd5555">&#34;950x600&#34;</span>)
top.configure(<span style="color:#008b45">background</span>=<span style="color:#a61717;background-color:#e3d2d2">&#39;#</span><span style="color:#b452cd">000000</span><span style="color:#a61717;background-color:#e3d2d2">&#39;</span>)
<span style="color:#1e889b"># -----------------------------------------------------------
</span><span style="color:#1e889b"></span>
comlist = serial.tools.list_ports.comports()
<span style="color:#008b45">connected</span> = []
<span style="color:#8b008b;font-weight:bold">for</span> element in comlist:
    <span style="color:#008b45">connected</span>.append(element.device)
<span style="color:#8b008b;font-weight:bold">if</span> <span style="color:#8b008b;font-weight:bold">not</span> <span style="color:#008b45">connected</span>:
    messagebox.showinfo(<span style="color:#cd5555">&#34;Aviso!&#34;</span>, <span style="color:#cd5555">&#34;Nenhuma porta disponível, verifique se seu dispositivo está conectado.&#34;</span>)

label_n = Label(top, <span style="color:#008b45">text</span> = <span style="color:#cd5555">&#34;Número de entradas:&#34;</span>)
label_n.grid(row = <span style="color:#b452cd">2</span>, column = <span style="color:#b452cd">1</span>, columnspan = <span style="color:#b452cd">2</span>, padx = <span style="color:#b452cd">10</span>, pady = <span style="color:#b452cd">10</span>)
label_n.configure(<span style="color:#008b45">background</span>=<span style="color:#a61717;background-color:#e3d2d2">&#39;#</span><span style="color:#b452cd">000000</span><span style="color:#a61717;background-color:#e3d2d2">&#39;</span>, foreground=<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>white<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>, <span style="color:#008b45">width</span> = <span style="color:#b452cd">20</span>)

n_texto = StringVar()
n = Entry(top, textvariable = n_texto)
n.grid(row = <span style="color:#b452cd">2</span>, column=<span style="color:#b452cd">3</span>, padx = <span style="color:#b452cd">10</span>, pady = <span style="color:#b452cd">10</span>)
n.configure(<span style="color:#008b45">width</span> = <span style="color:#b452cd">10</span>)

label_eqs = Label(top, <span style="color:#008b45">text</span> = <span style="color:#cd5555">&#34;Equação da reta: y = a*x+b, padrão: y=x&#34;</span>)
label_eqs.grid(row = <span style="color:#b452cd">2</span>, column = <span style="color:#b452cd">6</span>, columnspan = <span style="color:#b452cd">3</span>)
label_eqs.configure(<span style="color:#008b45">background</span>=<span style="color:#a61717;background-color:#e3d2d2">&#39;#</span><span style="color:#b452cd">000000</span><span style="color:#a61717;background-color:#e3d2d2">&#39;</span>, foreground=<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>white<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>)

label_a = Label(top, <span style="color:#008b45">text</span> = <span style="color:#cd5555">&#34;a:&#34;</span>)
label_a.grid(row = <span style="color:#b452cd">3</span>, column = <span style="color:#b452cd">6</span>)
label_a.configure(<span style="color:#008b45">background</span>=<span style="color:#a61717;background-color:#e3d2d2">&#39;#</span><span style="color:#b452cd">000000</span><span style="color:#a61717;background-color:#e3d2d2">&#39;</span>, foreground=<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>white<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>)

arquivo_coef = <span style="color:#008b45">open</span>(<span style="color:#cd5555">&#34;polinomios.txt&#34;</span>, <span style="color:#cd5555">&#39;w&#39;</span>)
arquivo_coef.<span style="color:#008b45">close</span>()

abre_poli = StringVar()

def abre_polinomio():
    <span style="color:#8b008b;font-weight:bold">try</span>:
        abre_poli.set(filedialog.askopenfilename(initialdir = <span style="color:#cd5555">&#34;/&#34;</span>,title = <span style="color:#cd5555">&#34;Selecione seu arquivo&#34;</span>,filetypes = ((<span style="color:#cd5555">&#34;Arquivo de texto&#34;</span>,<span style="color:#cd5555">&#34;*.txt&#34;</span>),(<span style="color:#cd5555">&#34;Todos os arquivos&#34;</span>,<span style="color:#cd5555">&#34;*.*&#34;</span>))))
        <span style="color:#8b008b;font-weight:bold">if</span> abre_poli.<span style="color:#008b45">get</span>():
            <span style="color:#008b45">text</span>.insert(END, <span style="color:#cd5555">&#34;</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">Carregado com sucesso.</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&#34;</span>)
            <span style="color:#008b45">text</span>.see(END)
    except Exception as e:
        messagebox.showinfo(e)
        <span style="color:#8b008b;font-weight:bold">return</span> None

button_abre_poli = Button(top, <span style="color:#008b45">text</span> = <span style="color:#cd5555">&#34;Carregar equações&#34;</span>, command = abre_polinomio)
button_abre_poli.grid(row=<span style="color:#b452cd">6</span>, column=<span style="color:#b452cd">7</span>)
button_abre_poli.configure(activebackground=<span style="color:#a61717;background-color:#e3d2d2">&#39;#</span><span style="color:#b452cd">000000</span><span style="color:#a61717;background-color:#e3d2d2">&#39;</span>, activeforeground=<span style="color:#a61717;background-color:#e3d2d2">&#39;#</span>FFFFFF<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>)

def pega_coef():
    <span style="color:#8b008b;font-weight:bold">if</span> <span style="color:#8b008b;font-weight:bold">not</span> n_texto.<span style="color:#008b45">get</span>():
        messagebox.showinfo(<span style="color:#cd5555">&#34;Aviso!&#34;</span>, <span style="color:#cd5555">&#34;Por favor, informe o número de entradas.&#34;</span>)
        <span style="color:#8b008b;font-weight:bold">return</span> None
    coef_a = a.<span style="color:#008b45">get</span>()
    coef_b = b.<span style="color:#008b45">get</span>()
    <span style="color:#008b45">text</span>.insert(END, <span style="color:#cd5555">&#34;y = &#34;</span> + coef_a + <span style="color:#cd5555">&#34;*x&#34;</span> + <span style="color:#cd5555">&#34; + &#34;</span> + coef_b + <span style="color:#cd5555">&#39;\n&#39;</span>)
    <span style="color:#008b45">text</span>.see(END)
    arquivo_coef = <span style="color:#008b45">open</span>(<span style="color:#cd5555">&#34;polinomios.txt&#34;</span>, <span style="color:#cd5555">&#39;a&#39;</span>)
    arquivo_coef.<span style="color:#008b45">write</span>(coef_a + <span style="color:#cd5555">&#34; &#34;</span>)
    arquivo_coef.<span style="color:#008b45">write</span>(coef_b + <span style="color:#cd5555">&#34;</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&#34;</span>)
    arquivo_coef.<span style="color:#008b45">close</span>()
    a.<span style="color:#8b008b;font-weight:bold">delete</span>(<span style="color:#b452cd">0</span>, END)
    b.<span style="color:#8b008b;font-weight:bold">delete</span>(<span style="color:#b452cd">0</span>, END)
    arquivo_coef.<span style="color:#008b45">close</span>()

def salva_polinomio():
    <span style="color:#8b008b;font-weight:bold">try</span>:
        salvar_poli = asksaveasfilename(defaultextension=<span style="color:#cd5555">&#34;.txt&#34;</span>, initialfile=<span style="color:#cd5555">&#34;meus_polinomios&#34;</span>)
        arquivo_poli = <span style="color:#008b45">open</span>(salvar_poli, <span style="color:#cd5555">&#39;w&#39;</span>)
        texto = <span style="color:#008b45">open</span>(<span style="color:#cd5555">&#34;polinomios.txt&#34;</span>).<span style="color:#008b45">read</span>()
        texto = texto.<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#39;\r&#39;</span>, <span style="color:#a61717;background-color:#e3d2d2">&#39;&#39;</span>).<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#39;[&#39;</span>, <span style="color:#a61717;background-color:#e3d2d2">&#39;&#39;</span>).<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#39;]&#39;</span>, <span style="color:#a61717;background-color:#e3d2d2">&#39;&#39;</span>).<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#34;,&#34;</span>, <span style="color:#cd5555">&#34;&#34;</span>).<span style="color:#008b45">replace</span>(<span style="color:#cd5555">&#34;&#39;&#34;</span>, <span style="color:#cd5555">&#34;&#34;</span>)
        arquivo_poli.<span style="color:#008b45">write</span>(texto)
        arquivo_poli.<span style="color:#008b45">close</span>()
    except Exception as e:
        messagebox.showinfo(e)
        <span style="color:#8b008b;font-weight:bold">return</span> None

limpar_graf = IntVar()

def limpar_graf_estado():
    limpar_graf.set(<span style="color:#b452cd">1</span>)

button_salva_poli = Button(top, <span style="color:#008b45">text</span> = <span style="color:#cd5555">&#34;Salvar equações&#34;</span>, command = salva_polinomio)
button_salva_poli.grid(row=<span style="color:#b452cd">5</span>, column=<span style="color:#b452cd">7</span>)
button_salva_poli.configure(activebackground=<span style="color:#a61717;background-color:#e3d2d2">&#39;#</span><span style="color:#b452cd">000000</span><span style="color:#a61717;background-color:#e3d2d2">&#39;</span>, activeforeground=<span style="color:#a61717;background-color:#e3d2d2">&#39;#</span>FFFFFF<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>)

a_texto = StringVar()
a = Entry(top, textvariable = a_texto)
a.grid(row=<span style="color:#b452cd">3</span>, column=<span style="color:#b452cd">7</span>)

label_b = Label(top, <span style="color:#008b45">text</span> = <span style="color:#cd5555">&#34;b:&#34;</span>)
label_b.grid(row = <span style="color:#b452cd">4</span>, column = <span style="color:#b452cd">6</span>)
label_b.configure(<span style="color:#008b45">background</span>=<span style="color:#a61717;background-color:#e3d2d2">&#39;#</span><span style="color:#b452cd">000000</span><span style="color:#a61717;background-color:#e3d2d2">&#39;</span>, foreground=<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>white<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>)

b_texto = StringVar()
b = Entry(top, textvariable = b_texto)
b.grid(row=<span style="color:#b452cd">4</span>, column=<span style="color:#b452cd">7</span>)

button_entrar = Button(top, <span style="color:#008b45">text</span> = <span style="color:#cd5555">&#34;Inserir&#34;</span>, command = pega_coef)
button_entrar.grid(row=<span style="color:#b452cd">3</span>, column=<span style="color:#b452cd">8</span>, rowspan = <span style="color:#b452cd">2</span>, padx = <span style="color:#b452cd">15</span>)
button_entrar.configure(activebackground=<span style="color:#a61717;background-color:#e3d2d2">&#39;#</span><span style="color:#b452cd">000000</span><span style="color:#a61717;background-color:#e3d2d2">&#39;</span>, activeforeground=<span style="color:#a61717;background-color:#e3d2d2">&#39;#</span>FFFFFF<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>)

<span style="color:#008b45">text</span> = ScrolledText(top, <span style="color:#008b45">width</span>=<span style="color:#b452cd">50</span>, <span style="color:#008b45">height</span>=<span style="color:#b452cd">20</span>)
<span style="color:#008b45">text</span>.grid(row=<span style="color:#b452cd">3</span>, column=<span style="color:#b452cd">1</span>, columnspan=<span style="color:#b452cd">5</span>, rowspan=<span style="color:#b452cd">10</span>, padx = <span style="color:#b452cd">10</span>, pady = <span style="color:#b452cd">10</span>)

<span style="color:#008b45">text</span>.insert(END, <span style="color:#cd5555">&#34;          INSTRUÇÕES</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&#34;</span>)
<span style="color:#008b45">text</span>.insert(END, <span style="color:#cd5555">&#34;</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&#34;</span>)
<span style="color:#008b45">text</span>.insert(END, <span style="color:#cd5555">&#34;&gt;O loop de seu controlador deve</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">retornar os dados da seguinte forma:</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&#34;</span>)
<span style="color:#008b45">text</span>.insert(END, <span style="color:#cd5555">&#34;a b c ...</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&#34;</span>)
<span style="color:#008b45">text</span>.insert(END, <span style="color:#cd5555">&#34;Ex: 1 2 3 4 5</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&#34;</span>)
<span style="color:#008b45">text</span>.insert(END, <span style="color:#cd5555">&#34;</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&gt;Declare o número de entradas</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">antes de iniciar a leitura.</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&#34;</span>)
<span style="color:#008b45">text</span>.insert(END, <span style="color:#cd5555">&#34;</span><span style="color:#cd5555">\n</span><span style="color:#cd5555">&#34;</span>)
<span style="color:#008b45">text</span>.see(END)

<span style="color:#1e889b"># criar menu
</span><span style="color:#1e889b"></span>menubar = Menu(top)

menubar.add_command(label=<span style="color:#cd5555">&#34;Iniciar leitura&#34;</span>, command=handle_leitura)

graf_menu = Menu(menubar, tearoff=<span style="color:#b452cd">0</span>)
menubar.add_cascade(label=<span style="color:#cd5555">&#34;Gráficos&#34;</span>, menu=graf_menu)
graf_menu.add_command(label=<span style="color:#cd5555">&#34;Exibir gráfico em tempo real&#34;</span>, command=grafico)
graf_menu.add_command(label=<span style="color:#cd5555">&#34;Exibir gráfico&#34;</span>, command=graficoinst)
graf_menu.add_separator()
graf_menu.add_command(label=<span style="color:#cd5555">&#34;Limpar gráfico&#34;</span>, command=limpar_graf_estado)

controlador_menu = Menu(menubar, tearoff=<span style="color:#b452cd">0</span>)
menubar.add_cascade(label=<span style="color:#cd5555">&#34;Controlador&#34;</span>, menu=controlador_menu)
portas_sub_menu = Menu(controlador_menu, tearoff = <span style="color:#b452cd">0</span>)
controlador_menu.add_cascade(label=<span style="color:#cd5555">&#34;Portas&#34;</span>, menu=portas_sub_menu)

var = StringVar()
atualizarporta()

baud_sub_menu = Menu(controlador_menu, tearoff = <span style="color:#b452cd">0</span>)
controlador_menu.add_cascade(label = <span style="color:#cd5555">&#34;Baudrate&#34;</span>, menu = baud_sub_menu)

<span style="color:#1e889b"># pega o baud rate, varbaud é o baudrate===============================================
</span><span style="color:#1e889b">#4800, 9600, 38400, 57600, 115200, 230400
</span><span style="color:#1e889b"></span>varbaud = IntVar()
baud_sub_menu.add_radiobutton(label = <span style="color:#cd5555">&#34;4800&#34;</span>, variable = varbaud, value = <span style="color:#b452cd">4800</span>, command = selbaud)
baud_sub_menu.add_radiobutton(label = <span style="color:#cd5555">&#34;9600&#34;</span>, variable = varbaud, value = <span style="color:#b452cd">9600</span>, command = selbaud)
baud_sub_menu.add_radiobutton(label = <span style="color:#cd5555">&#34;38400&#34;</span>, variable = varbaud, value = <span style="color:#b452cd">38400</span>, command = selbaud)
baud_sub_menu.add_radiobutton(label = <span style="color:#cd5555">&#34;57600&#34;</span>, variable = varbaud, value = <span style="color:#b452cd">57600</span>, command = selbaud)
baud_sub_menu.add_radiobutton(label = <span style="color:#cd5555">&#34;115200&#34;</span>, variable = varbaud, value = <span style="color:#b452cd">115200</span>, command = selbaud)
baud_sub_menu.add_radiobutton(label = <span style="color:#cd5555">&#34;230400&#34;</span>, variable = varbaud, value = <span style="color:#b452cd">230400</span>, command = selbaud)
baud_sub_menu.invoke(<span style="color:#b452cd">1</span>)
<span style="color:#1e889b"># =====================================================================================
</span><span style="color:#1e889b"></span>
controlador_menu.add_separator()
controlador_menu.add_command(label = <span style="color:#cd5555">&#34;Atualizar portas&#34;</span>, command = atualizarporta)

sair_menu = Menu(menubar, tearoff=<span style="color:#b452cd">0</span>)
menubar.add_cascade(label=<span style="color:#cd5555">&#34;Sair/Reiniciar&#34;</span>, menu=sair_menu)
sair_menu.add_command(label = <span style="color:#cd5555">&#34;Reiniciar&#34;</span>, command = reiniciar)
sair_menu.add_command(label=<span style="color:#cd5555">&#34;Sair&#34;</span>, command=fechando)

<span style="color:#1e889b"># mostrar o menu
</span><span style="color:#1e889b"></span>top.<span style="color:#008b45">config</span>(menu=menubar)

<span style="color:#1e889b"># chama o mainloop -&gt; abre a janela com os itens anteriores
</span><span style="color:#1e889b"></span>top.protocol(<span style="color:#cd5555">&#34;WM_DELETE_WINDOW&#34;</span>, fechando)
top.mainloop()
</code></pre></div><p><a href="#top">Topo</a></p>

      </div>


      <footer>
        


        
        
        
      </footer>
    </article>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script type="text/javascript" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js" id="MathJax-script"></script>
  <script>
    MathJax = {
      tex: {
        inlineMath: [
          ['$', '$'], ['\\(', '\\)']
        ],
        processEscapes: true,
        processEnvironments: true
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
  </script>
  </section>

      </div>

      
  <footer class="footer">
    <section class="container">
      
        <p>rafaelbeloduarte@pm.me</p>
      
      
      
      
    </section>
  </footer>

    </main>

    

    

  </body>

</html>
