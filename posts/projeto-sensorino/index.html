<!DOCTYPE html>
<html lang="pt-br">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">

    

    <meta name="author" content="Rafael Belo Duarte">
    <meta name="description" content="Software com interface gráfica escrito em Python com o intuito de captar sinais de sensores, como transdutores de pressão e termopares, acoplados a placas Arduino.
Sensorino. Instruções O loop de seu controlador deve retornar os dados separados por espaços simples:
a b c ... Ex: 1 2 3 4 5
Você pode encontrar no Github uma versão executável para windows , como também o repositório do projeto .
Se você possui ambiente python configurado, inicie o programa com: python3 projeto_sensorino.">
    <meta name="keywords" content="blog,engenharia,engenharia química">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Projeto Sensorino"/>
<meta name="twitter:description" content="Software com interface gráfica escrito em Python com o intuito de captar sinais de sensores, como transdutores de pressão e termopares, acoplados a placas Arduino.
Sensorino. Instruções O loop de seu controlador deve retornar os dados separados por espaços simples:
a b c ... Ex: 1 2 3 4 5
Você pode encontrar no Github uma versão executável para windows , como também o repositório do projeto .
Se você possui ambiente python configurado, inicie o programa com: python3 projeto_sensorino."/>

    <meta property="og:title" content="Projeto Sensorino" />
<meta property="og:description" content="Software com interface gráfica escrito em Python com o intuito de captar sinais de sensores, como transdutores de pressão e termopares, acoplados a placas Arduino.
Sensorino. Instruções O loop de seu controlador deve retornar os dados separados por espaços simples:
a b c ... Ex: 1 2 3 4 5
Você pode encontrar no Github uma versão executável para windows , como também o repositório do projeto .
Se você possui ambiente python configurado, inicie o programa com: python3 projeto_sensorino." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rafaelbeloduarte.github.io/posts/projeto-sensorino/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-01-07T15:21:04-03:00" />
<meta property="article:modified_time" content="2020-01-07T15:21:04-03:00" /><meta property="og:site_name" content="Rafael Belo Duarte" />



    <title>
  Projeto Sensorino · Rafael Belo Duarte
</title>

    
      <link rel="canonical" href="https://rafaelbeloduarte.github.io/posts/projeto-sensorino/">
    

    <link rel="preload" href="https://rafaelbeloduarte.github.io/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>

    
      
      
      <link rel="stylesheet" href="https://rafaelbeloduarte.github.io/css/coder.min.d9fddbffe6f27e69985dc5fe0471cdb0e57fbf4775714bc3d847accb08f4a1f6.css" integrity="sha256-2f3b/&#43;byfmmYXcX&#43;BHHNsOV/v0d1cUvD2Eesywj0ofY=" crossorigin="anonymous" media="screen" />
    

    

    
      
        
        
        <link rel="stylesheet" href="https://rafaelbeloduarte.github.io/css/coder-dark.min.002ee2378e14c7a68f1f0a53d9694ed252090987c4e768023fac694a4fc5f793.css" integrity="sha256-AC7iN44Ux6aPHwpT2WlO0lIJCYfE52gCP6xpSk/F95M=" crossorigin="anonymous" media="screen" />
      
    

    

    

    <link rel="icon" type="image/png" href="https://rafaelbeloduarte.github.io/img/icon_32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://rafaelbeloduarte.github.io/img/icon_16.png" sizes="16x16">

    <link rel="apple-touch-icon" href="https://rafaelbeloduarte.github.io/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://rafaelbeloduarte.github.io/images/apple-touch-icon.png">

    <meta name="generator" content="Hugo 0.101.0" />
  </head>

  
  
    
  
  <body class="preload-transitions colorscheme-auto">
    
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://rafaelbeloduarte.github.io/">
      Rafael Belo Duarte
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://rafaelbeloduarte.github.io/posts/">Artigos</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://rafaelbeloduarte.github.io/publications/">Publicações</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://rafaelbeloduarte.github.io/tags/">Etiquetas</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="https://rafaelbeloduarte.github.io/contato">Contato</a>
            </li>
          
        
        
          
          
          
            
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="https://rafaelbeloduarte.github.io/en/">English</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://rafaelbeloduarte.github.io/posts/projeto-sensorino/">
              Projeto Sensorino
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime="2020-01-07T15:21:04-03:00">
                07/01/2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              8 minutos de leitura
            </span>
          </div>
          
          
          <div class="tags">
  <i class="fa fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="https://rafaelbeloduarte.github.io/tags/arduino/">arduino</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="https://rafaelbeloduarte.github.io/tags/python/">python</a>
    </span>
      <span class="separator">•</span>
    <span class="tag">
      <a href="https://rafaelbeloduarte.github.io/tags/programa%C3%A7%C3%A3o/">programação</a>
    </span></div>

          
        </div>
      </header>

      <div>
        
        <p>Software com interface gráfica escrito em Python com o intuito de captar sinais de sensores, como transdutores de pressão e termopares, acoplados a placas Arduino.</p>
<p>
  <figure>
    <img src="https://rafaelbeloduarte.github.io/images/sensorino.png" alt="gui">
    <figcaption>Sensorino.</figcaption>
  </figure>

</p>
<h2 id="instruções">
  Instruções
  <a class="heading-link" href="#instru%c3%a7%c3%b5es">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>O loop de seu controlador deve retornar os dados separados por espaços simples:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>a b c ...
</span></span></code></pre></div><p>Ex:     <code>1 2 3 4 5</code></p>
<p>Você pode encontrar no Github uma <a href="https://github.com/rafaelbeloduarte/projeto_sensorino/blob/master/sensorino_win64.zip" target="_blank">versão executável para windows</a>
, como também o <a href="https://github.com/rafaelbeloduarte/projeto_sensorino" target="_blank">repositório do projeto</a>
.</p>
<p>Se você possui ambiente python configurado, inicie o programa com: <code>python3 projeto_sensorino.py</code>.</p>
<p>Bibliotecas requeridas se não for utilizar o executável: <code>tkinter</code>, <code>pyserial</code> e <code>matplotlib</code>. Todas podem ser instaladas via <a href="https://pypi.org/project/pip/" target="_blank">pip</a>
.</p>
<p>Instruções para instalação do <a href="https://www.python.org/" target="_blank">interpretador</a>
 podem ser encontradas facilmente em mecanismos de busca. Muitas distribuições Linux já o possuem por padrão.</p>
<p>Se deseja gerar sua própria versão executável, clone ou baixe o repositório do Github e use o <a href="https://pypi.org/project/pyinstaller/" target="_blank">Pyinstaller</a>
.</p>
<h2 id="código">
  Código
  <a class="heading-link" href="#c%c3%b3digo">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ino" data-lang="ino"><span style="display:flex;"><span><span style="color:#75715e"># -*- coding: utf-8 -*-
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>import tkinter
</span></span><span style="display:flex;"><span>import serial
</span></span><span style="display:flex;"><span>import serial.tools.list_ports
</span></span><span style="display:flex;"><span>import threading
</span></span><span style="display:flex;"><span>from tkinter.filedialog import asksaveasfilename
</span></span><span style="display:flex;"><span>from tkinter import <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span>import sys
</span></span><span style="display:flex;"><span>import os
</span></span><span style="display:flex;"><span>from tkinter import messagebox
</span></span><span style="display:flex;"><span>from tkinter.scrolledtext import ScrolledText
</span></span><span style="display:flex;"><span>import matplotlib.pyplot as plt
</span></span><span style="display:flex;"><span>import matplotlib.animation as animation
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># funções-------------------------------------------------------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>def sel()<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># LISTA AS PORTAS DISPONÍVEIS
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    comlist <span style="color:#f92672">=</span> serial.tools.list_ports.comports()
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">connected</span> <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> element in comlist:
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">connected</span>.append(element.device)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>def graficoinst()<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    plt.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>    fig <span style="color:#f92672">=</span> plt.figure()
</span></span><span style="display:flex;"><span>    grafico <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(<span style="color:#960050;background-color:#1e0010">&#39;</span>grafico.dat<span style="color:#960050;background-color:#1e0010">&#39;</span>, <span style="color:#e6db74">&#39;r&#39;</span>).<span style="color:#a6e22e">read</span>()
</span></span><span style="display:flex;"><span>    vetores <span style="color:#f92672">=</span> grafico.split(<span style="color:#e6db74">&#39;\n&#39;</span>)
</span></span><span style="display:flex;"><span>    vetores <span style="color:#f92672">=</span> filter(None, vetores)
</span></span><span style="display:flex;"><span>    vetores <span style="color:#f92672">=</span> list(vetores)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i in range(len(vetores))<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        aux <span style="color:#f92672">=</span> vetores[i].split(<span style="color:#e6db74">&#34;,&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> j in range(len(aux))<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            aux[j] <span style="color:#f92672">=</span> <span style="color:#66d9ef">float</span>(aux[j])
</span></span><span style="display:flex;"><span>        vetores[i] <span style="color:#f92672">=</span> aux
</span></span><span style="display:flex;"><span>    matriz_graf <span style="color:#f92672">=</span> vetores
</span></span><span style="display:flex;"><span>    plt.clf()
</span></span><span style="display:flex;"><span>    eixo <span style="color:#f92672">=</span> fig.add_subplot(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    eixo.plot(matriz_graf)
</span></span><span style="display:flex;"><span>   <span style="color:#75715e"># eixo.legend()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    plt.show()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>def grafico()<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    plt.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>    fig <span style="color:#f92672">=</span> plt.figure()
</span></span><span style="display:flex;"><span>    def animar(i)<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        grafico <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(<span style="color:#960050;background-color:#1e0010">&#39;</span>grafico.dat<span style="color:#960050;background-color:#1e0010">&#39;</span>, <span style="color:#e6db74">&#39;r&#39;</span>).<span style="color:#a6e22e">read</span>()
</span></span><span style="display:flex;"><span>        vetores <span style="color:#f92672">=</span> grafico.split(<span style="color:#e6db74">&#39;\n&#39;</span>)
</span></span><span style="display:flex;"><span>        vetores <span style="color:#f92672">=</span> filter(None, vetores)
</span></span><span style="display:flex;"><span>        vetores <span style="color:#f92672">=</span> list(vetores)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> i in range(len(vetores))<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            aux <span style="color:#f92672">=</span> vetores[i].split(<span style="color:#e6db74">&#34;,&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> j in range(len(aux))<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                aux[j] <span style="color:#f92672">=</span> <span style="color:#66d9ef">float</span>(aux[j])
</span></span><span style="display:flex;"><span>            vetores[i] <span style="color:#f92672">=</span> aux
</span></span><span style="display:flex;"><span>        matriz_graf <span style="color:#f92672">=</span> vetores
</span></span><span style="display:flex;"><span>        plt.clf()
</span></span><span style="display:flex;"><span>        eixo <span style="color:#f92672">=</span> fig.add_subplot(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        eixo.plot(matriz_graf)
</span></span><span style="display:flex;"><span>       <span style="color:#75715e"># eixo.legend()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ani <span style="color:#f92672">=</span> animation.FuncAnimation(fig, animar, interval<span style="color:#f92672">=</span><span style="color:#ae81ff">1000</span>)
</span></span><span style="display:flex;"><span>    plt.show()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>def selbaud()<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">text</span>.insert(END, <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Baudrate: &#34;</span> <span style="color:#f92672">+</span> str(varbaud.<span style="color:#a6e22e">get</span>()) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">text</span>.see(END)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>def handle_leitura()<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        ser <span style="color:#f92672">=</span> serial.<span style="color:#a6e22e">Serial</span>(var.<span style="color:#a6e22e">get</span>(), baudrate<span style="color:#f92672">=</span>varbaud.<span style="color:#a6e22e">get</span>(), timeout<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, parity<span style="color:#f92672">=</span>serial.PARITY_NONE,
</span></span><span style="display:flex;"><span>                            stopbits<span style="color:#f92672">=</span>serial.STOPBITS_ONE,
</span></span><span style="display:flex;"><span>                            bytesize<span style="color:#f92672">=</span>serial.EIGHTBITS)
</span></span><span style="display:flex;"><span>        ser.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>    except Exception as e:
</span></span><span style="display:flex;"><span>        messagebox.showinfo(<span style="color:#e6db74">&#34;Eita!&#34;</span>, <span style="color:#e6db74">&#34;Erro: &#34;</span> <span style="color:#f92672">+</span> str(e) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Provável causa: a porta já está sendo utilizada.&#34;</span>,
</span></span><span style="display:flex;"><span>                            icon<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;</span>error<span style="color:#960050;background-color:#1e0010">&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> None
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#66d9ef">not</span> var.<span style="color:#a6e22e">get</span>() <span style="color:#66d9ef">or</span> <span style="color:#66d9ef">not</span> varbaud.<span style="color:#a6e22e">get</span>()<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        messagebox.showinfo(<span style="color:#e6db74">&#34;Aviso!&#34;</span>, <span style="color:#e6db74">&#34;Selecione uma porta/baudrate.&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> None
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#66d9ef">not</span> n_texto.<span style="color:#a6e22e">get</span>()<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        messagebox.showinfo(<span style="color:#e6db74">&#34;Aviso!&#34;</span>, <span style="color:#e6db74">&#34;Por favor, informe o número de entradas.&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> None
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        salvararquivo <span style="color:#f92672">=</span> asksaveasfilename(defaultextension<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;.txt&#34;</span>, initialfile<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;dados&#34;</span>)
</span></span><span style="display:flex;"><span>        arquivousuario <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(salvararquivo, <span style="color:#e6db74">&#39;w&#39;</span>)
</span></span><span style="display:flex;"><span>        arquivousuario.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>        arquivo_sinal <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(salvararquivo.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#34;.txt&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;_sinal.txt&#34;</span>, <span style="color:#e6db74">&#34;w&#34;</span>)
</span></span><span style="display:flex;"><span>        arquivo_sinal.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>    except Exception as e:
</span></span><span style="display:flex;"><span>        messagebox.showinfo(e)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> None
</span></span><span style="display:flex;"><span>    ser <span style="color:#f92672">=</span> serial.<span style="color:#a6e22e">Serial</span>(var.<span style="color:#a6e22e">get</span>(), baudrate<span style="color:#f92672">=</span>varbaud.<span style="color:#a6e22e">get</span>(), timeout<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, parity<span style="color:#f92672">=</span>serial.PARITY_NONE,
</span></span><span style="display:flex;"><span>                        stopbits<span style="color:#f92672">=</span>serial.STOPBITS_ONE, bytesize<span style="color:#f92672">=</span>serial.EIGHTBITS)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    instr_arquivo <span style="color:#f92672">=</span> Label(top, <span style="color:#a6e22e">text</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Para finalizar a leitura apenas feche o programa, seus dados são salvos automaticamente.&#34;</span>)
</span></span><span style="display:flex;"><span>    instr_arquivo.grid(row <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, column<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, columnspan<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>)
</span></span><span style="display:flex;"><span>    instr_arquivo.configure(<span style="color:#a6e22e">background</span><span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;</span>blue<span style="color:#960050;background-color:#1e0010">&#39;</span>, foreground<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;</span>white<span style="color:#960050;background-color:#1e0010">&#39;</span>, borderwidth<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>, relief<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;</span>groove<span style="color:#960050;background-color:#1e0010">&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    def iniciar()<span style="color:#f92672">:</span>  <span style="color:#960050;background-color:#1e0010">#</span> Esta função lê o inpu
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># t da porta selecionada
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        i_limpa_texto <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        arquivousuario <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(salvararquivo, <span style="color:#e6db74">&#39;a&#39;</span>)
</span></span><span style="display:flex;"><span>        arquivo_sinal <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(salvararquivo.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#34;.txt&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;_sinal.txt&#34;</span>, <span style="color:#e6db74">&#39;a&#39;</span>)
</span></span><span style="display:flex;"><span>        rol <span style="color:#f92672">=</span> IntVar()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        rol_parar <span style="color:#f92672">=</span> Radiobutton(top, <span style="color:#a6e22e">text</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Parar rolagem&#34;</span>, variable<span style="color:#f92672">=</span>rol, value<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        rol_parar.grid(row<span style="color:#f92672">=</span><span style="color:#ae81ff">20</span>, column<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, columnspan <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        rol_parar.configure(<span style="color:#a6e22e">background</span><span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;#</span>F2F2F2<span style="color:#960050;background-color:#1e0010">&#39;</span>, indicatoron<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#ae81ff">15</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        rol_iniciar <span style="color:#f92672">=</span> Radiobutton(top, <span style="color:#a6e22e">text</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Auto rolagem&#34;</span>, variable<span style="color:#f92672">=</span>rol, value<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        rol_iniciar.grid(row<span style="color:#f92672">=</span><span style="color:#ae81ff">20</span>, column<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>, columnspan<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        rol_iniciar.configure(<span style="color:#a6e22e">background</span><span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;#</span>F2F2F2<span style="color:#960050;background-color:#1e0010">&#39;</span>, indicatoron<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#ae81ff">15</span>)
</span></span><span style="display:flex;"><span>        rol_iniciar.select()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        graf <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(<span style="color:#e6db74">&#34;grafico.dat&#34;</span>, <span style="color:#e6db74">&#39;w&#39;</span>)
</span></span><span style="display:flex;"><span>        graf.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> os.path.isfile(abre_poli.<span style="color:#a6e22e">get</span>()) <span style="color:#f92672">==</span> False <span style="color:#66d9ef">and</span> os.path.isfile(<span style="color:#e6db74">&#34;polinomios.txt&#34;</span>) <span style="color:#f92672">==</span> False:
</span></span><span style="display:flex;"><span>            messagebox.showinfo(<span style="color:#e6db74">&#34;Atenção!&#34;</span>, <span style="color:#e6db74">&#34;Arquivo não encontrado, o sinal será apresentado nu.&#34;</span>)
</span></span><span style="display:flex;"><span>            poli <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(<span style="color:#e6db74">&#34;polinomios.txt&#34;</span>, <span style="color:#e6db74">&#39;w&#39;</span>)
</span></span><span style="display:flex;"><span>            n_entradas <span style="color:#f92672">=</span> <span style="color:#66d9ef">int</span>(n_texto.<span style="color:#a6e22e">get</span>())
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> i in range(n_entradas)<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                poli.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;1 0</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> abre_poli.<span style="color:#a6e22e">get</span>()<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> os.stat(abre_poli.<span style="color:#a6e22e">get</span>()).st_size <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                messagebox.showinfo(<span style="color:#e6db74">&#34;Atenção!&#34;</span>, <span style="color:#e6db74">&#34;Arquivo vazio, será preenchido com y=x.&#34;</span>)
</span></span><span style="display:flex;"><span>                poli <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(abre_poli.<span style="color:#a6e22e">get</span>(), <span style="color:#e6db74">&#39;w&#39;</span>)
</span></span><span style="display:flex;"><span>                n_entradas <span style="color:#f92672">=</span> <span style="color:#66d9ef">int</span>(n_texto.<span style="color:#a6e22e">get</span>())
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">for</span> i in range(n_entradas)<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                    poli.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;1 0</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>                poli.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>            poli <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(abre_poli.<span style="color:#a6e22e">get</span>()).readlines()
</span></span><span style="display:flex;"><span>            i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>            linhas <span style="color:#f92672">=</span> i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> linhas <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">int</span>(n_texto.<span style="color:#a6e22e">get</span>())<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                messagebox.showinfo(<span style="color:#e6db74">&#34;Atenção!&#34;</span>, <span style="color:#e6db74">&#34;Número de equações menor que o número de entradas. Os sinais das entradas restantes serão exibidos inalterados.&#34;</span>)
</span></span><span style="display:flex;"><span>                escrever_polinomios <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(abre_poli.<span style="color:#a6e22e">get</span>(), <span style="color:#e6db74">&#39;a&#39;</span>)
</span></span><span style="display:flex;"><span>                restantes <span style="color:#f92672">=</span> <span style="color:#66d9ef">int</span>(n_texto.<span style="color:#a6e22e">get</span>()) <span style="color:#f92672">-</span> len(poli)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">for</span> i in range(restantes)<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                    escrever_polinomios.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;1 0</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>                escrever_polinomios.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            poli <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(<span style="color:#e6db74">&#34;polinomios.txt&#34;</span>).readlines()
</span></span><span style="display:flex;"><span>            i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>            with <span style="color:#a6e22e">open</span>(<span style="color:#e6db74">&#34;polinomios.txt&#34;</span>) as arquivo:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">for</span> i, arquivo in enumerate(arquivo)<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                    pass
</span></span><span style="display:flex;"><span>            linhas <span style="color:#f92672">=</span> i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> linhas <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">int</span>(n_texto.<span style="color:#a6e22e">get</span>())<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                messagebox.showinfo(<span style="color:#e6db74">&#34;Atenção!&#34;</span>, <span style="color:#e6db74">&#34;Número de equações menor que o número de entradas. Os sinais das entradas restantes serão exibidos inalterados.&#34;</span>)
</span></span><span style="display:flex;"><span>                escrever_polinomios <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(<span style="color:#e6db74">&#34;polinomios.txt&#34;</span>, <span style="color:#e6db74">&#39;a&#39;</span>)
</span></span><span style="display:flex;"><span>                restantes <span style="color:#f92672">=</span> <span style="color:#66d9ef">int</span>(n_texto.<span style="color:#a6e22e">get</span>()) <span style="color:#f92672">-</span> len(poli)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">for</span> i in range(restantes)<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                    escrever_polinomios.<span style="color:#a6e22e">write</span>(<span style="color:#e6db74">&#34;1 0</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>                escrever_polinomios.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> i in range(len(poli))<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            poli[i] <span style="color:#f92672">=</span> poli[i].<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>).split(<span style="color:#e6db74">&#34; &#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> i in range(len(poli))<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> j in range(len(poli[i]))<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                poli[i][j] <span style="color:#f92672">=</span> <span style="color:#66d9ef">float</span>(poli[i][j])
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">text</span>.insert(END, <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">+</span> str(poli) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">text</span>.see(END)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># LOOP DE LEITURA
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">while</span> True:
</span></span><span style="display:flex;"><span>                serial_bytes <span style="color:#f92672">=</span> ser.readline()
</span></span><span style="display:flex;"><span>                serial_texto <span style="color:#f92672">=</span> serial_bytes.decode(<span style="color:#960050;background-color:#1e0010">&#39;</span>utf<span style="color:#f92672">-</span><span style="color:#ae81ff">8</span><span style="color:#960050;background-color:#1e0010">&#39;</span>)
</span></span><span style="display:flex;"><span>                a <span style="color:#f92672">=</span> serial_texto.split(<span style="color:#e6db74">&#39; &#39;</span>)
</span></span><span style="display:flex;"><span>                graf <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(<span style="color:#e6db74">&#34;grafico.dat&#34;</span>, <span style="color:#e6db74">&#39;a&#39;</span>)
</span></span><span style="display:flex;"><span>                dados <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>                lista_dados <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> a:
</span></span><span style="display:flex;"><span>                    dados <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">&#39;</span>[<span style="color:#f92672">%</span>s]<span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#f92672">%</span> <span style="color:#960050;background-color:#1e0010">&#39;</span>, <span style="color:#960050;background-color:#1e0010">&#39;</span>.join(<span style="color:#a6e22e">map</span>(str, a))
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e"># map serve para aplicarmos uma função a cada elemento de uma lista,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#75715e"># retornando uma nova lista contendo os elementos resultantes da aplicação da função.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#75715e"># The %s token allows to insert (and potentially format) a string.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#75715e"># Notice that the %s token is replaced by whatever I pass to the string after the % symbol.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    dados <span style="color:#f92672">=</span> dados.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#39;\n&#39;</span>, <span style="color:#960050;background-color:#1e0010">&#39;&#39;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#39;\r&#39;</span>, <span style="color:#960050;background-color:#1e0010">&#39;&#39;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#39;[&#39;</span>, <span style="color:#960050;background-color:#1e0010">&#39;&#39;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#39;]&#39;</span>, <span style="color:#960050;background-color:#1e0010">&#39;&#39;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#34; &#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#34;&#39;&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>                    lista_dados <span style="color:#f92672">=</span> dados.split(<span style="color:#e6db74">&#34;,&#34;</span>)
</span></span><span style="display:flex;"><span>                    lista_dados <span style="color:#f92672">=</span> filter(None, lista_dados)
</span></span><span style="display:flex;"><span>                    lista_dados <span style="color:#f92672">=</span> list(lista_dados)
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">for</span> i in range(len(lista_dados))<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                        lista_dados[i] <span style="color:#f92672">=</span> <span style="color:#66d9ef">float</span>(lista_dados[i])
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> lista_dados:
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">for</span> i in range(len(poli))<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                        lista_dados[i] <span style="color:#f92672">=</span> poli[i][<span style="color:#ae81ff">0</span>]<span style="color:#f92672">*</span>lista_dados[i] <span style="color:#f92672">+</span> poli[i][<span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>                    arquivousuario.<span style="color:#a6e22e">write</span>(str(lista_dados).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#39;[&#39;</span>, <span style="color:#960050;background-color:#1e0010">&#39;&#39;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#39;]&#39;</span>, <span style="color:#960050;background-color:#1e0010">&#39;&#39;</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;\n&#39;</span>)
</span></span><span style="display:flex;"><span>                    arquivousuario.<span style="color:#a6e22e">flush</span>()
</span></span><span style="display:flex;"><span>                    arquivo_sinal.<span style="color:#a6e22e">write</span>(dados <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;\n&#39;</span>)
</span></span><span style="display:flex;"><span>                    arquivo_sinal.<span style="color:#a6e22e">flush</span>()
</span></span><span style="display:flex;"><span>                    graf.<span style="color:#a6e22e">write</span>(str(lista_dados).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#39;[&#39;</span>, <span style="color:#960050;background-color:#1e0010">&#39;&#39;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#39;]&#39;</span>, <span style="color:#960050;background-color:#1e0010">&#39;&#39;</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;\n&#39;</span>)
</span></span><span style="display:flex;"><span>                    graf.<span style="color:#a6e22e">flush</span>()
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">text</span>.insert(END, str(lista_dados).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#39;[&#39;</span>, <span style="color:#960050;background-color:#1e0010">&#39;&#39;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#39;]&#39;</span>, <span style="color:#960050;background-color:#1e0010">&#39;&#39;</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;\n&#39;</span>)
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> rol.<span style="color:#a6e22e">get</span>() <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">text</span>.see(END)
</span></span><span style="display:flex;"><span>                    i_limpa_texto <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> i_limpa_texto <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1000</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">text</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#ae81ff">1.0</span>, END)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    graf <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(<span style="color:#960050;background-color:#1e0010">&#39;</span>grafico.dat<span style="color:#960050;background-color:#1e0010">&#39;</span>, <span style="color:#960050;background-color:#1e0010">&#39;</span>r<span style="color:#f92672">+</span><span style="color:#960050;background-color:#1e0010">&#39;</span>)
</span></span><span style="display:flex;"><span>                    graf.truncate(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    i_limpa_texto <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> limpar_graf.<span style="color:#a6e22e">get</span>() <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                    graf <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(<span style="color:#960050;background-color:#1e0010">&#39;</span>grafico.dat<span style="color:#960050;background-color:#1e0010">&#39;</span>, <span style="color:#e6db74">&#39;w&#39;</span>)
</span></span><span style="display:flex;"><span>                    graf.truncate(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    limpar_graf.set(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#75715e"># time.sleep(1)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        except Exception as e:
</span></span><span style="display:flex;"><span>            messagebox.showinfo(<span style="color:#e6db74">&#34;Erro!&#34;</span>, <span style="color:#e6db74">&#34;Erro: &#34;</span> <span style="color:#f92672">+</span> str(e), icon<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;</span>error<span style="color:#960050;background-color:#1e0010">&#39;</span>)
</span></span><span style="display:flex;"><span>            pass
</span></span><span style="display:flex;"><span>        ser.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>        graf.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>        arquivousuario.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>        arquivo_sinal.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>        poli.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    t <span style="color:#f92672">=</span> threading.Thread(target<span style="color:#f92672">=</span>iniciar)
</span></span><span style="display:flex;"><span>    t.daemon <span style="color:#f92672">=</span> True
</span></span><span style="display:flex;"><span>    t.start()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>def atualizarporta()<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    portas_sub_menu.<span style="color:#66d9ef">delete</span>(<span style="color:#ae81ff">0</span>, <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">end</span><span style="color:#960050;background-color:#1e0010">&#39;</span>)
</span></span><span style="display:flex;"><span>    var.set(<span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>    ports <span style="color:#f92672">=</span> list(serial.tools.list_ports.comports())
</span></span><span style="display:flex;"><span>    comlist <span style="color:#f92672">=</span> serial.tools.list_ports.comports()
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">connected</span> <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> element in comlist:
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">connected</span>.append(element.device)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i in range(len(ports))<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        ports[i] <span style="color:#f92672">=</span> str(ports[i])
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> k in range(len(<span style="color:#a6e22e">connected</span>))<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        portas_sub_menu.add_radiobutton(label <span style="color:#f92672">=</span> <span style="color:#a6e22e">connected</span>[k], variable<span style="color:#f92672">=</span>var, value<span style="color:#f92672">=</span>str(<span style="color:#a6e22e">connected</span>[k]), command<span style="color:#f92672">=</span>sel)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#34;Arduino&#34;</span> <span style="color:#66d9ef">or</span> <span style="color:#e6db74">&#34;Serial USB&#34;</span> in ports[k]<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            var.set(str(<span style="color:#a6e22e">connected</span>[k]))
</span></span><span style="display:flex;"><span>            portas_sub_menu.activate(k)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">text</span>.insert(END, <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Porta selecionada: &#34;</span> <span style="color:#f92672">+</span> str(var.<span style="color:#a6e22e">get</span>()) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">text</span>.see(END)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>def reiniciar()<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> messagebox.askokcancel(<span style="color:#e6db74">&#34;Reiniciando...&#34;</span>, <span style="color:#e6db74">&#34;Tem certeza?&#34;</span>)<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        python <span style="color:#f92672">=</span> sys.executable
</span></span><span style="display:flex;"><span>        os.execl(python, python, <span style="color:#f92672">*</span>sys.argv)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> None
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>def fechando()<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> messagebox.askokcancel(<span style="color:#e6db74">&#34;Fechando...&#34;</span>, <span style="color:#e6db74">&#34;Tem certeza?&#34;</span>)<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        plt.<span style="color:#a6e22e">close</span>(<span style="color:#960050;background-color:#1e0010">&#39;</span>all<span style="color:#960050;background-color:#1e0010">&#39;</span>)
</span></span><span style="display:flex;"><span>        top.destroy()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># fim das funções-----------------------------------------------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Código para os widgets vai aqui.------------------------------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># define a janela principal----------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>top <span style="color:#f92672">=</span> tkinter.Tk()
</span></span><span style="display:flex;"><span>top.wm_title(<span style="color:#e6db74">&#34;Sensorino Salva!&#34;</span>)
</span></span><span style="display:flex;"><span>top.minsize(<span style="color:#ae81ff">500</span>, <span style="color:#ae81ff">500</span>)
</span></span><span style="display:flex;"><span>top.geometry(<span style="color:#e6db74">&#34;950x600&#34;</span>)
</span></span><span style="display:flex;"><span>top.configure(<span style="color:#a6e22e">background</span><span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;#</span><span style="color:#ae81ff">000000</span><span style="color:#960050;background-color:#1e0010">&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -----------------------------------------------------------
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>comlist <span style="color:#f92672">=</span> serial.tools.list_ports.comports()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">connected</span> <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> element in comlist:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">connected</span>.append(element.device)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#66d9ef">not</span> <span style="color:#a6e22e">connected</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    messagebox.showinfo(<span style="color:#e6db74">&#34;Aviso!&#34;</span>, <span style="color:#e6db74">&#34;Nenhuma porta disponível, verifique se seu dispositivo está conectado.&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>label_n <span style="color:#f92672">=</span> Label(top, <span style="color:#a6e22e">text</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Número de entradas:&#34;</span>)
</span></span><span style="display:flex;"><span>label_n.grid(row <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, column <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, columnspan <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, padx <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>, pady <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>label_n.configure(<span style="color:#a6e22e">background</span><span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;#</span><span style="color:#ae81ff">000000</span><span style="color:#960050;background-color:#1e0010">&#39;</span>, foreground<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;</span>white<span style="color:#960050;background-color:#1e0010">&#39;</span>, <span style="color:#a6e22e">width</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>n_texto <span style="color:#f92672">=</span> StringVar()
</span></span><span style="display:flex;"><span>n <span style="color:#f92672">=</span> Entry(top, textvariable <span style="color:#f92672">=</span> n_texto)
</span></span><span style="display:flex;"><span>n.grid(row <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, column<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>, padx <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>, pady <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>n.configure(<span style="color:#a6e22e">width</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>label_eqs <span style="color:#f92672">=</span> Label(top, <span style="color:#a6e22e">text</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Equação da reta: y = a*x+b, padrão: y=x&#34;</span>)
</span></span><span style="display:flex;"><span>label_eqs.grid(row <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, column <span style="color:#f92672">=</span> <span style="color:#ae81ff">6</span>, columnspan <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>label_eqs.configure(<span style="color:#a6e22e">background</span><span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;#</span><span style="color:#ae81ff">000000</span><span style="color:#960050;background-color:#1e0010">&#39;</span>, foreground<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;</span>white<span style="color:#960050;background-color:#1e0010">&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>label_a <span style="color:#f92672">=</span> Label(top, <span style="color:#a6e22e">text</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;a:&#34;</span>)
</span></span><span style="display:flex;"><span>label_a.grid(row <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>, column <span style="color:#f92672">=</span> <span style="color:#ae81ff">6</span>)
</span></span><span style="display:flex;"><span>label_a.configure(<span style="color:#a6e22e">background</span><span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;#</span><span style="color:#ae81ff">000000</span><span style="color:#960050;background-color:#1e0010">&#39;</span>, foreground<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;</span>white<span style="color:#960050;background-color:#1e0010">&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>arquivo_coef <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(<span style="color:#e6db74">&#34;polinomios.txt&#34;</span>, <span style="color:#e6db74">&#39;w&#39;</span>)
</span></span><span style="display:flex;"><span>arquivo_coef.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>abre_poli <span style="color:#f92672">=</span> StringVar()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>def abre_polinomio()<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        abre_poli.set(filedialog.askopenfilename(initialdir <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;/&#34;</span>,title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Selecione seu arquivo&#34;</span>,filetypes <span style="color:#f92672">=</span> ((<span style="color:#e6db74">&#34;Arquivo de texto&#34;</span>,<span style="color:#e6db74">&#34;*.txt&#34;</span>),(<span style="color:#e6db74">&#34;Todos os arquivos&#34;</span>,<span style="color:#e6db74">&#34;*.*&#34;</span>))))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> abre_poli.<span style="color:#a6e22e">get</span>()<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">text</span>.insert(END, <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Carregado com sucesso.</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">text</span>.see(END)
</span></span><span style="display:flex;"><span>    except Exception as e:
</span></span><span style="display:flex;"><span>        messagebox.showinfo(e)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> None
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>button_abre_poli <span style="color:#f92672">=</span> Button(top, <span style="color:#a6e22e">text</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Carregar equações&#34;</span>, command <span style="color:#f92672">=</span> abre_polinomio)
</span></span><span style="display:flex;"><span>button_abre_poli.grid(row<span style="color:#f92672">=</span><span style="color:#ae81ff">6</span>, column<span style="color:#f92672">=</span><span style="color:#ae81ff">7</span>)
</span></span><span style="display:flex;"><span>button_abre_poli.configure(activebackground<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;#</span><span style="color:#ae81ff">000000</span><span style="color:#960050;background-color:#1e0010">&#39;</span>, activeforeground<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;#</span>FFFFFF<span style="color:#960050;background-color:#1e0010">&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>def pega_coef()<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#66d9ef">not</span> n_texto.<span style="color:#a6e22e">get</span>()<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        messagebox.showinfo(<span style="color:#e6db74">&#34;Aviso!&#34;</span>, <span style="color:#e6db74">&#34;Por favor, informe o número de entradas.&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> None
</span></span><span style="display:flex;"><span>    coef_a <span style="color:#f92672">=</span> a.<span style="color:#a6e22e">get</span>()
</span></span><span style="display:flex;"><span>    coef_b <span style="color:#f92672">=</span> b.<span style="color:#a6e22e">get</span>()
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">text</span>.insert(END, <span style="color:#e6db74">&#34;y = &#34;</span> <span style="color:#f92672">+</span> coef_a <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;*x&#34;</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; + &#34;</span> <span style="color:#f92672">+</span> coef_b <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;\n&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">text</span>.see(END)
</span></span><span style="display:flex;"><span>    arquivo_coef <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(<span style="color:#e6db74">&#34;polinomios.txt&#34;</span>, <span style="color:#e6db74">&#39;a&#39;</span>)
</span></span><span style="display:flex;"><span>    arquivo_coef.<span style="color:#a6e22e">write</span>(coef_a <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span>)
</span></span><span style="display:flex;"><span>    arquivo_coef.<span style="color:#a6e22e">write</span>(coef_b <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>    arquivo_coef.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>    a.<span style="color:#66d9ef">delete</span>(<span style="color:#ae81ff">0</span>, END)
</span></span><span style="display:flex;"><span>    b.<span style="color:#66d9ef">delete</span>(<span style="color:#ae81ff">0</span>, END)
</span></span><span style="display:flex;"><span>    arquivo_coef.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>def salva_polinomio()<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        salvar_poli <span style="color:#f92672">=</span> asksaveasfilename(defaultextension<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;.txt&#34;</span>, initialfile<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;meus_polinomios&#34;</span>)
</span></span><span style="display:flex;"><span>        arquivo_poli <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(salvar_poli, <span style="color:#e6db74">&#39;w&#39;</span>)
</span></span><span style="display:flex;"><span>        texto <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(<span style="color:#e6db74">&#34;polinomios.txt&#34;</span>).<span style="color:#a6e22e">read</span>()
</span></span><span style="display:flex;"><span>        texto <span style="color:#f92672">=</span> texto.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#39;\r&#39;</span>, <span style="color:#960050;background-color:#1e0010">&#39;&#39;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#39;[&#39;</span>, <span style="color:#960050;background-color:#1e0010">&#39;&#39;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#39;]&#39;</span>, <span style="color:#960050;background-color:#1e0010">&#39;&#39;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#34;,&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#34;&#39;&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>)
</span></span><span style="display:flex;"><span>        arquivo_poli.<span style="color:#a6e22e">write</span>(texto)
</span></span><span style="display:flex;"><span>        arquivo_poli.<span style="color:#a6e22e">close</span>()
</span></span><span style="display:flex;"><span>    except Exception as e:
</span></span><span style="display:flex;"><span>        messagebox.showinfo(e)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> None
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>limpar_graf <span style="color:#f92672">=</span> IntVar()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>def limpar_graf_estado()<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    limpar_graf.set(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>button_salva_poli <span style="color:#f92672">=</span> Button(top, <span style="color:#a6e22e">text</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Salvar equações&#34;</span>, command <span style="color:#f92672">=</span> salva_polinomio)
</span></span><span style="display:flex;"><span>button_salva_poli.grid(row<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, column<span style="color:#f92672">=</span><span style="color:#ae81ff">7</span>)
</span></span><span style="display:flex;"><span>button_salva_poli.configure(activebackground<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;#</span><span style="color:#ae81ff">000000</span><span style="color:#960050;background-color:#1e0010">&#39;</span>, activeforeground<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;#</span>FFFFFF<span style="color:#960050;background-color:#1e0010">&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>a_texto <span style="color:#f92672">=</span> StringVar()
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> Entry(top, textvariable <span style="color:#f92672">=</span> a_texto)
</span></span><span style="display:flex;"><span>a.grid(row<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>, column<span style="color:#f92672">=</span><span style="color:#ae81ff">7</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>label_b <span style="color:#f92672">=</span> Label(top, <span style="color:#a6e22e">text</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;b:&#34;</span>)
</span></span><span style="display:flex;"><span>label_b.grid(row <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>, column <span style="color:#f92672">=</span> <span style="color:#ae81ff">6</span>)
</span></span><span style="display:flex;"><span>label_b.configure(<span style="color:#a6e22e">background</span><span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;#</span><span style="color:#ae81ff">000000</span><span style="color:#960050;background-color:#1e0010">&#39;</span>, foreground<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;</span>white<span style="color:#960050;background-color:#1e0010">&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>b_texto <span style="color:#f92672">=</span> StringVar()
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> Entry(top, textvariable <span style="color:#f92672">=</span> b_texto)
</span></span><span style="display:flex;"><span>b.grid(row<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>, column<span style="color:#f92672">=</span><span style="color:#ae81ff">7</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>button_entrar <span style="color:#f92672">=</span> Button(top, <span style="color:#a6e22e">text</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Inserir&#34;</span>, command <span style="color:#f92672">=</span> pega_coef)
</span></span><span style="display:flex;"><span>button_entrar.grid(row<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>, column<span style="color:#f92672">=</span><span style="color:#ae81ff">8</span>, rowspan <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, padx <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>)
</span></span><span style="display:flex;"><span>button_entrar.configure(activebackground<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;#</span><span style="color:#ae81ff">000000</span><span style="color:#960050;background-color:#1e0010">&#39;</span>, activeforeground<span style="color:#f92672">=</span><span style="color:#960050;background-color:#1e0010">&#39;#</span>FFFFFF<span style="color:#960050;background-color:#1e0010">&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">text</span> <span style="color:#f92672">=</span> ScrolledText(top, <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#ae81ff">50</span>, <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#ae81ff">20</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">text</span>.grid(row<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>, column<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, columnspan<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, rowspan<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>, padx <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>, pady <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">text</span>.insert(END, <span style="color:#e6db74">&#34;          INSTRUÇÕES</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">text</span>.insert(END, <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">text</span>.insert(END, <span style="color:#e6db74">&#34;&gt;O loop de seu controlador deve</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">retornar os dados da seguinte forma:</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">text</span>.insert(END, <span style="color:#e6db74">&#34;a b c ...</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">text</span>.insert(END, <span style="color:#e6db74">&#34;Ex: 1 2 3 4 5</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">text</span>.insert(END, <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&gt;Declare o número de entradas</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">antes de iniciar a leitura.</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">text</span>.insert(END, <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">text</span>.see(END)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># criar menu
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>menubar <span style="color:#f92672">=</span> Menu(top)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>menubar.add_command(label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Iniciar leitura&#34;</span>, command<span style="color:#f92672">=</span>handle_leitura)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>graf_menu <span style="color:#f92672">=</span> Menu(menubar, tearoff<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>menubar.add_cascade(label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Gráficos&#34;</span>, menu<span style="color:#f92672">=</span>graf_menu)
</span></span><span style="display:flex;"><span>graf_menu.add_command(label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Exibir gráfico em tempo real&#34;</span>, command<span style="color:#f92672">=</span>grafico)
</span></span><span style="display:flex;"><span>graf_menu.add_command(label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Exibir gráfico&#34;</span>, command<span style="color:#f92672">=</span>graficoinst)
</span></span><span style="display:flex;"><span>graf_menu.add_separator()
</span></span><span style="display:flex;"><span>graf_menu.add_command(label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Limpar gráfico&#34;</span>, command<span style="color:#f92672">=</span>limpar_graf_estado)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>controlador_menu <span style="color:#f92672">=</span> Menu(menubar, tearoff<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>menubar.add_cascade(label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Controlador&#34;</span>, menu<span style="color:#f92672">=</span>controlador_menu)
</span></span><span style="display:flex;"><span>portas_sub_menu <span style="color:#f92672">=</span> Menu(controlador_menu, tearoff <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>controlador_menu.add_cascade(label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Portas&#34;</span>, menu<span style="color:#f92672">=</span>portas_sub_menu)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>var <span style="color:#f92672">=</span> StringVar()
</span></span><span style="display:flex;"><span>atualizarporta()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>baud_sub_menu <span style="color:#f92672">=</span> Menu(controlador_menu, tearoff <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>controlador_menu.add_cascade(label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Baudrate&#34;</span>, menu <span style="color:#f92672">=</span> baud_sub_menu)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># pega o baud rate, varbaud é o baudrate===============================================
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#4800, 9600, 38400, 57600, 115200, 230400
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>varbaud <span style="color:#f92672">=</span> IntVar()
</span></span><span style="display:flex;"><span>baud_sub_menu.add_radiobutton(label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;4800&#34;</span>, variable <span style="color:#f92672">=</span> varbaud, value <span style="color:#f92672">=</span> <span style="color:#ae81ff">4800</span>, command <span style="color:#f92672">=</span> selbaud)
</span></span><span style="display:flex;"><span>baud_sub_menu.add_radiobutton(label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;9600&#34;</span>, variable <span style="color:#f92672">=</span> varbaud, value <span style="color:#f92672">=</span> <span style="color:#ae81ff">9600</span>, command <span style="color:#f92672">=</span> selbaud)
</span></span><span style="display:flex;"><span>baud_sub_menu.add_radiobutton(label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;38400&#34;</span>, variable <span style="color:#f92672">=</span> varbaud, value <span style="color:#f92672">=</span> <span style="color:#ae81ff">38400</span>, command <span style="color:#f92672">=</span> selbaud)
</span></span><span style="display:flex;"><span>baud_sub_menu.add_radiobutton(label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;57600&#34;</span>, variable <span style="color:#f92672">=</span> varbaud, value <span style="color:#f92672">=</span> <span style="color:#ae81ff">57600</span>, command <span style="color:#f92672">=</span> selbaud)
</span></span><span style="display:flex;"><span>baud_sub_menu.add_radiobutton(label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;115200&#34;</span>, variable <span style="color:#f92672">=</span> varbaud, value <span style="color:#f92672">=</span> <span style="color:#ae81ff">115200</span>, command <span style="color:#f92672">=</span> selbaud)
</span></span><span style="display:flex;"><span>baud_sub_menu.add_radiobutton(label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;230400&#34;</span>, variable <span style="color:#f92672">=</span> varbaud, value <span style="color:#f92672">=</span> <span style="color:#ae81ff">230400</span>, command <span style="color:#f92672">=</span> selbaud)
</span></span><span style="display:flex;"><span>baud_sub_menu.invoke(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># =====================================================================================
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>controlador_menu.add_separator()
</span></span><span style="display:flex;"><span>controlador_menu.add_command(label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Atualizar portas&#34;</span>, command <span style="color:#f92672">=</span> atualizarporta)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sair_menu <span style="color:#f92672">=</span> Menu(menubar, tearoff<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>menubar.add_cascade(label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Sair/Reiniciar&#34;</span>, menu<span style="color:#f92672">=</span>sair_menu)
</span></span><span style="display:flex;"><span>sair_menu.add_command(label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Reiniciar&#34;</span>, command <span style="color:#f92672">=</span> reiniciar)
</span></span><span style="display:flex;"><span>sair_menu.add_command(label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Sair&#34;</span>, command<span style="color:#f92672">=</span>fechando)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># mostrar o menu
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>top.<span style="color:#a6e22e">config</span>(menu<span style="color:#f92672">=</span>menubar)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># chama o mainloop -&gt; abre a janela com os itens anteriores
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>top.protocol(<span style="color:#e6db74">&#34;WM_DELETE_WINDOW&#34;</span>, fechando)
</span></span><span style="display:flex;"><span>top.mainloop()
</span></span></code></pre></div><p><a href="#top">Topo</a>
</p>

      </div>


      <footer>
        


        
        
        
      </footer>
    </article>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script type="text/javascript" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js" id="MathJax-script"></script>
  <script>
    MathJax = {
      tex: {
        inlineMath: [
          ['$', '$'], ['\\(', '\\)']
        ],
        processEscapes: true,
        processEnvironments: true
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
  </script>
  </section>

      </div>

      <footer class="footer">
  <section class="container">
    ©
    
    2022
     Rafael Belo Duarte 
    ·
    
    Promovido por <a href="https://gohugo.io/" target="_blank">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank">Coder</a>.
    
  </section>
</footer>

    </main>

    
      
      <script src="https://rafaelbeloduarte.github.io/js/coder.min.9cf2dbf9b6989ef8eae941ffb4231c26d1dc026bca38f1d19fdba50177d8a9ac.js" integrity="sha256-nPLb&#43;baYnvjq6UH/tCMcJtHcAmvKOPHRn9ulAXfYqaw="></script>
    

    

    

    

    

    

    

    

    
  </body>

</html>
